<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid"> <a class="navbar-brand" routerLink="/">ðŸŽµ MyMedia</a>
    <ul class="navbar-nav me-auto">
      <li class="nav-item"> <a class="nav-link" (click)="uploadmedia()">Upload Media</a> </li>
      <li class="nav-item"> <a class="nav-link" routerLink="/playlist-create">Playlists</a> </li>
    </ul>
    <ul class="navbar-nav ms-auto">
      <li class="nav-item"> <a class="nav-link" routerLink="/profile">Profile</a> </li>
      <li class="nav-item"> <a class="nav-link" (click)="logout()">Logout</a> </li>
    </ul>
  </div>
</nav>

<div class="playlist-create-container">
  <h2>Create a Playlist</h2>

  <form (ngSubmit)="createPlaylist()" #playlistForm="ngForm">
    <div class="form-group mb-3">
      <label>Playlist Name:</label>
      <input type="text" name="name" [(ngModel)]="playlistName" class="form-control" required />
    </div>

    <!-- Filter Dropdown -->
    <div class="form-group mb-3">
      <label>Filter Media By Type:</label>
      <select class="form-select" [(ngModel)]="selectedMediaType" name="mediaType" (change)="filterMedia()">
        <option value="">Shuffle (All)</option>
        <option value="Music">Music</option>
        <option value="Video">Video</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Select Media:</label>
      <div *ngFor="let media of filteredMedia" class="form-check">
        <input type="checkbox" class="form-check-input" [value]="media.mediaId"
          (change)="toggleMedia(media.mediaId, $event)">
        <label class="form-check-label">
          {{ media.title }} ({{ media.mediaType }})
        </label>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!playlistName || selectedMediaIds.length === 0">
      Create Playlist
    </button>
  </form>

  <hr />

  <h3>Existing Playlists</h3>
  <app-playlist-list></app-playlist-list>
</div>